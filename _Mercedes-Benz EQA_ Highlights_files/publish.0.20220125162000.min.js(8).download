webpackJsonp(["ciamlogin/publish/target"],{C3gG:function(e,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.SALUTATION_HELPER=b.EXTENDED_USER_WKO=b.ACTIONS=b.PROMISES=b.ACTION_VALUES=b.VALUES=b.SELECTORS=b.TIME=b.CLASSES=b.EVENTS_NAMESPACE=b.MODULE_NAME=void 0;e=d("Palg");var h=d("KMkz");d=d("akNE");var m=b.MODULE_NAME="ciam";b.EVENTS_NAMESPACE="."+m;m=b.CLASSES={loginLink:"aem--ciam__loginLink",loggedLink:"aem--ciam__loggedLink",registerLink:"aem--ciam__registerLink",extensionToggle:"aem--ciam__extensionToggle",
userName:"aem--ciam__userName",iFrameContainerBase:"aem--ciamIFrameContainer__base",iFrameContainerOpen:"aem--ciamIFrameContainer__base--open",iFrameContainerWrapper:"aem--ciamIFrameContainer__wrapper",iFrameContainerCloseButton:"aem--ciamIFrameContainer__closeButton"};b.TIME={scrollWaitTime:3E3};b.SELECTORS=(0,d.createSelectorsFromClasses)(m,{iFrame:"#"+h.NN_IDS.ciamIFrame});b.VALUES={paramKey:"action"};b.ACTION_VALUES={confirmRegistration:e.NN_NAMESPACES.platformOld+"_confirmregistration",changeEmail:e.NN_NAMESPACES.platformOld+
"_changeemail",passwordReset:e.NN_NAMESPACES.platformOld+"_passwordreset"};b.PROMISES={authPromise:"authPromise",logoutPromise:"logoutPromise",registPromise:"registPromise"};b.ACTIONS={authentication:"authentication",registration:"registration",sessionReload:"sessionReload"};b.EXTENDED_USER_WKO={marketSpecificSalutation:""};b.SALUTATION_HELPER={"de-AT":["Guten Morgen","Guten Tag","Guten Tag","Guten Abend"],"nl-BE":["Goedemorgen","Hallo","Goedemiddag","Goedenavond"],"fr-BE":["Bonjour","Bonjour","Bonjour",
"Bonsoir"],"de-CH":["Guten","Morgen","Guten Tag","Guten Tag","Guten Abend"],"fr-CH":["Bonjour","Bonjour","Bonjour","Bonsoir"],"it-CH":["Buongiorno","Buongiorno","Buongiorno","Buonasera"],"cs-CZ":["Dobr\u00e9 r\u00e1no","Dobr\u00fd den","Dobr\u00fd den","Dobr\u00fd ve\u010der"],"de-DE":["Guten Morgen","Guten Tag","Guten Tag","Guten Abend"],"da-DK":["Velkommen","Velkommen","Velkommen","Velkommen"],"es-ES":["Buenos d\u00edas","Buenos d\u00edas","Buenas tardes","Buenas tardes"],"fr-FR":["Bonjour","Bonjour",
"Bonjour","Bonsoir"],"hu-HU":["\u00dcdv\u00f6z\u00f6lj\u00fck","\u00dcdv\u00f6z\u00f6lj\u00fck","\u00dcdv\u00f6z\u00f6lj\u00fck","\u00dcdv\u00f6z\u00f6lj\u00fck"],"en-IE":["Good morning","Good morning","Good afternoon","Good evening"],"it-IT":["Buongiorno","Buongiorno","Buongiorno","Buonasera"],"de-LI":["Guten Morgen","Guten Tag","Guten Tag","Guten Abend"],"de-LU":["Guten Morgen","Guten Tag","Guten Tag","Guten Abend"],"fr-LU":["Bonjour","Bonjour","Bonjour","Bonsoir"],"nl-NL":["Goedemorgen","Goedemorgen",
"Goedemiddag","Goedenavond"],"no-NO":["God morgen","God dag","God dag","God kveld"],"pl-PL":["Dzie\u0144 dobry","Dzie\u0144 dobry","Dzie\u0144 dobry","Dobry wiecz\u00f3r"],"pt-PT":["Bom dia","Bom dia","Boa tarde","Boa noite"],"sv-SE":["V\u00e4lkommen","V\u00e4lkommen","V\u00e4lkommen","V\u00e4lkommen"],"sk-SK":["Dobr\u00e9 r\u00e1no","Dobr\u00fd de\u0148","Dobr\u00fd de\u0148","Dobr\u00fd ve\u010der"],"en-GB":["Good morning","Good morning","Good afternoon","Good evening"],"zh-CN":["\u65e9\u4e0a\u597d",
"\u4e0a\u5348\u597d","\u4e0b\u5348\u597d","\u665a\u4e0a\u597d"],"en-CN":["Good morning","Good morning","Good afternoon","Good evening"],"en-US":["Hello","Hello","Hello","Hello"],"en-TR":["Good morning","Good morning","Good afternoon","Good evening"],"tr-TR":["\u0130yi G\u00fcnler","\u0130yi G\u00fcnler","\u0130yi G\u00fcnler","\u0130yi Ak\u015famlar"],"fi-FI":["Hei","Hei","Hei","Hei"],"en-AE-DU":["Good morning","Good morning","Good afternoon","Good evening"],"en-AE-AZ":["Good morning","Good morning",
"Good afternoon","Good evening"],"ar-AE-DU":["\u0635\u0628\u0627\u062d \u0627\u0644\u062e\u064a\u0631","\u0635\u0628\u0627\u062d \u0627\u0644\u062e\u064a\u0631","\u0645\u0633\u0627\u0621 \u0627\u0644\u062e\u064a\u0631","\u0645\u0633\u0627\u0621 \u0627\u0644\u062e\u064a\u0631"],"ar-AE-AZ":["\u0635\u0628\u0627\u062d \u0627\u0644\u062e\u064a\u0631","\u0635\u0628\u0627\u062d \u0627\u0644\u062e\u064a\u0631","\u0645\u0633\u0627\u0621 \u0627\u0644\u062e\u064a\u0631","\u0645\u0633\u0627\u0621 \u0627\u0644\u062e\u064a\u0631"],
"en-MT":["Good morning","Good morning","Good afternoon","Good evening"],"el-GR":["\u039a\u03b1\u03bb\u03b7\u03bc\u03ad\u03c1\u03b1","\u039a\u03b1\u03bb\u03b7\u03bc\u03ad\u03c1\u03b1","\u039a\u03b1\u03bb\u03b7\u03c3\u03c0\u03ad\u03c1\u03b1","\u039a\u03b1\u03bb\u03b7\u03c3\u03c0\u03ad\u03c1\u03b1"],"sl-SI":["Dobro jutro","Dober dan","Dober dan","Dober ve\u010der"],"lv-LV":["Labr\u012bt","Labdien","Labdien","Labvakar"],"lt-LT":["Labas rytas","Labas rytas","Laba diena","Labas vakaras"],"et-EE":["Tere tulemast",
"Tere tulemast","Tere tulemast","Tere tulemast"],"hr-HR":["Dobro jutro","Dobar dan","Dobar dan","Dobra ve\u010der"],"bg-BG":["\u0414\u043e\u0431\u0440\u043e \u0443\u0442\u0440\u043e","\u0414\u043e\u0431\u044a\u0440 \u0434\u0435\u043d","\u0414\u043e\u0431\u044a\u0440 \u0434\u0435\u043d","\u0414\u043e\u0431\u044a\u0440 \u0432\u0435\u0447\u0435\u0440"],"ro-RO":["Bun\u0103 diminea\u021ba","Bun\u0103 diminea\u021ba","Bun\u0103 ziua","Bun\u0103 seara"],"en-CY":["Good morning","Good morning","Good afternoon",
"Good evening"],"en-ZA":["Good morning","Good morning","Good afternoon","Good evening"],"en-KR":["Good morning","Good morning","Good afternoon","Good evening"],"ko-KR":["\uc548\ub155\ud558\uc138\uc694","\uc548\ub155\ud558\uc138\uc694","\uc548\ub155\ud558\uc138\uc694","\uc548\ub155\ud558\uc138\uc694"],"ja-JP":["\u3088\u3046\u3053\u305d","\u3088\u3046\u3053\u305d","\u3088\u3046\u3053\u305d","\u3088\u3046\u3053\u305d"],"en-JP":["Hello","Hello","Hello","Hello"],"zh-TW":["\u65e9\u5b89","\u65e9\u5b89",
"\u5348\u5b89","\u665a\u5b89"],"en-TW":["Good morning","Good morning","Good afternoon","Good evening"],"ru-RU":["\u0414\u043e\u0431\u0440\u043e\u0435 \u0443\u0442\u0440\u043e","\u0414\u043e\u0431\u0440\u043e\u0435 \u0443\u0442\u0440\u043e","\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c","\u0414\u043e\u0431\u0440\u044b\u0439 \u0432\u0435\u0447\u0435\u0440"],"en-RU":["Good morning","Good morning","Good afternoon","Good evening"],"en-AU":["Hello","Hello","Hello","Hello"],"en-NZ":["Hello",
"Hello","Hello","Hello"],"en-CA":["Hello","Hello","Hello","Hello"],"fr-CA":["Bonjour","Bonjour","Bonjour","Bonjour"],"th-TH":["\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e35","\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e35","\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e35","\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e35"],"es-MX":["Hola","Hola","Hola","Hola"],"en-MY":["Dear","Dear","Dear","Dear"],"en-IN":["Good morning","Good morning","Good afternoon","Good evening"]}},RPo5:function(e,b,d){function h(c){return c&&c.__esModule?c:{default:c}}
e=d("A/Xc");var m=h(e);e=d("2b3J");var k=h(e),I=d("BSTm"),J=d("TUtj"),n=d("rvwG"),K=d("53NG"),l=d("Hz3w"),q=d("+ly4"),c=d("fDjV"),r=d("lNEE");e=d("fYVJ");var z=d("GIzR"),L=d("tLGx");b=d("OrK9");var A=h(b),M=d("ZdzA"),f=d("C3gG"),B=(0,e.getPlatformElements)();window.nn[f.MODULE_NAME]=function(){var b={authPromise:{},logoutPromise:{},registPromise:{}},d=void 0,e=function(){window.CQ_Analytics&&window.CQ_Analytics.CiamStore&&window.CQ_Analytics.CiamStore.reload()},h=function(a){e();console&&"function"===
typeof console.info&&console.info("Updated login link to authenticated: "+a)},p=function(){return A.default.isUserAuthenticated()},C=function(){for(var a in c.CIAM_SESSION_STORAGE_KEYS)c.CIAM_SESSION_STORAGE_KEYS.hasOwnProperty(a)&&-1!==c.CIAM_SESSION_STORAGE_KEYS_USER_DATA.indexOf(a)&&window.sessionStorage.removeItem(c.CIAM_SESSION_STORAGE_KEYS[a]);for(var g in r.ME_SESSION_STORAGE_KEYS)r.ME_SESSION_STORAGE_KEYS.hasOwnProperty(g)&&-1!==r.ME_SESSION_STORAGE_KEYS_USER_DATA.indexOf(g)&&window.sessionStorage.removeItem(r.ME_SESSION_STORAGE_KEYS[g]);
e()},t=function(a){window.localStorage.setItem("callback-url",a||window.location.toString())},w=function(a,g){g||a.preventDefault();p()||(t(),window.location=window.sessionStorage.getItem(c.CIAM_SESSION_STORAGE_KEYS.ciamLoginUrl))},x=function(a,g,b){g||a.preventDefault();g=b?b:"";p()||(t(),a=window.sessionStorage.getItem(c.CIAM_SESSION_STORAGE_KEYS.ciamRegistrationUrl),g="consentId\x3d"+g,a=a+(-1!==a.indexOf("?")?"\x26":"?")+g,window.location=a)},u=function(){if(p()){var a=(0,J.getWellKnownOnewebObject)(l.NN_ONEWEB_WELL_KNOWN_OBJECT_NAMES.authentication,
{jwe:window.sessionStorage.getItem(c.CIAM_SESSION_STORAGE_KEYS.jwe),jwt:window.sessionStorage.getItem(c.CIAM_SESSION_STORAGE_KEYS.jws),roles:window.sessionStorage.getItem(c.CIAM_SESSION_STORAGE_KEYS.roles),token:window.sessionStorage.getItem(c.CIAM_SESSION_STORAGE_KEYS.sub)});b.authPromiseResolve(a);b.regist&&b.registPromiseResolve(a);f.EXTENDED_USER_WKO.marketSpecificSalutation=N((0,M.locale)());a=JSON.stringify(f.EXTENDED_USER_WKO);window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.wkoUserDataExtended,
a)}},N=function(a){a=f.SALUTATION_HELPER[a];if(!a)return"";var b=(new Date).getHours();switch(!0){case 10>b:return a[0];case 12>b:return a[1];case 18>b:return a[2];case 24>b:return a[3]}},v=function(a){b[a]=new m.default(function(g,c){b[a+"Resolve"]=g;b[a+"Reject"]=c})},D=function(){v(f.PROMISES.authPromise);u();w(null,!0);k.default.pub(l.NN_ONEWEB_EVENTS.authenticationPromiseRetrieved,b.authPromise)},y=function(){v(f.PROMISES.logoutPromise);if(p()){var a=document.head.querySelector("meta[name\x3dlogout-url]");
t(a?a.getAttribute("content"):a);window.location=window.sessionStorage.getItem(c.CIAM_SESSION_STORAGE_KEYS.ciamLogoutUrl)}k.default.pub(l.NN_ONEWEB_EVENTS.logoutPromiseRetrieved,b.logoutPromise)},E=function(a){v(f.PROMISES.registPromise);x(null,!0,a?a.consentId:"");k.default.pub(l.NN_ONEWEB_EVENTS.registrationPromiseRetrieved,b.registPromise)},F=function(){h(!0)},G=function(a){a.key===c.CIAM_LOCAL_STORAGE_KEYS.logoutRequested&&a.newValue&&y()},H=function(a,b,c,d){a.addEventListener(b,function(a){for(var b=
a.target;b&&b!==this;)b.matches(c)&&d.call(b,a),b=b.parentNode})},O=function(){window.addEventListener("storage",G);document.addEventListener(q.NN_DOM_EVENTS.ciamUpdateAuthenticationStatus,u);B.forEach(function(a){H(a,"click"+f.EVENTS_NAMESPACE,f.SELECTORS.loginLink,w);H(a,"click"+f.EVENTS_NAMESPACE,f.SELECTORS.registerLink,x)});k.default.sub(l.NN_ONEWEB_EVENTS.authenticationRequested,D);k.default.sub(l.NN_ONEWEB_EVENTS.logoutRequested,y);k.default.sub(l.NN_ONEWEB_EVENTS.registrationRequested,E);
document.addEventListener(q.NN_DOM_EVENTS.profileUpdateLoggedIn,F)},P=function(){window.removeEventListener("storage",G);document.removeEventListener(q.NN_DOM_EVENTS.ciamUpdateAuthenticationStatus,u);B.forEach(function(a){a.querySelector(f.SELECTORS.loginLink).removeEventListener("click"+f.EVENTS_NAMESPACE,w);a.querySelector(f.SELECTORS.registerLink).removeEventListener("click"+f.EVENTS_NAMESPACE,x)});k.default.unsub(l.NN_ONEWEB_EVENTS.authenticationRequested,D);k.default.unsub(l.NN_ONEWEB_EVENTS.logoutRequested,
y);k.default.unsub(l.NN_ONEWEB_EVENTS.registrationRequested,E);document.removeEventListener(q.NN_DOM_EVENTS.profileUpdateLoggedIn,F)};return{init:function(){d=this;var a=(0,I.getValueByPathArrayInNestedObject)(["nn","global","moduleHelpers","ciam","callbacksWithParams"],window);if(a)for(var b=0;b<a.length;b++){var e=d[a[b].methodName],k="string"===typeof a[b].args?void 0:a[b].args;"undefined"!==typeof e&&e.apply(d,k)}if((0,z.isTopWindow)()||(0,L.isInCQIframe)())if(v(f.PROMISES.authPromise),u(),h(p()),
O(),b=void 0,a=(0,n.getCurrentURLQueryValueByAttributeName)(f.VALUES.paramKey,window.location.search)){switch(a){case f.ACTION_VALUES.confirmRegistration:b=window.sessionStorage.getItem(c.CIAM_SESSION_STORAGE_KEYS.ciamRegistrationConfirmUrl);break;case f.ACTION_VALUES.changeEmail:b=window.sessionStorage.getItem(c.CIAM_SESSION_STORAGE_KEYS.ciamEmailChangeUrl);break;case f.ACTION_VALUES.passwordReset:b=window.sessionStorage.getItem(c.CIAM_SESSION_STORAGE_KEYS.ciamPasswordResetUrl)}a===f.ACTION_VALUES.confirmRegistration?
window.location=b:p()&&(window.location=b)}},destroy:function(){(0,z.isTopWindow)()&&(C(),P())},isUserAuthenticated:p,postLogout:function(){h(!1);C();document.dispatchEvent(new Event(q.NN_DOM_EVENTS.plugincomponentSendUpdateMessage));window.localStorage.setItem(c.CIAM_LOCAL_STORAGE_KEYS.logoutRequested,"true");window.localStorage.removeItem(c.CIAM_LOCAL_STORAGE_KEYS.logoutRequested);console&&"function"===typeof console.info&&console.info("Cleared sessionstorage, logged out now and restored login link.")},
postLogin:function(a,b){(0,K.isEmpty)(a)?console&&"function"===typeof console.info&&console.info("No authentication information to save."):(window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.jws,a),window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.jwe,b),window.localStorage.setItem(c.CIAM_LOCAL_STORAGE_KEYS.everLoggedIn,!0),window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.loginstate,!0),a=A.default.retrieveDecodedJWTPayload(),window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.name,
a.name),window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.firstname,a.first_name),window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.lastname,a.last_name),window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.gender,a.gender),window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.email,a.email),window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.phone,a.phone),window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.roles,a.roles),window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.sub,
a.sub),h(!0),console&&"function"===typeof console.info&&console.info("Saved authentication information"),document.dispatchEvent(new Event(q.NN_DOM_EVENTS.plugincomponentSendUpdateMessage)),document.dispatchEvent(new Event(q.NN_DOM_EVENTS.ciamUpdateAuthenticationStatus)))},postRegistration:function(a){p()||(window.location=a)},setCallbackURL:t,addSessionStorageEntries:function(a){Object.keys(a).forEach(function(b){"undefined"!==typeof b&&(c.CIAM_SESSION_STORAGE_KEYS[b]&&window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS[b],
a[b]),r.ME_SESSION_STORAGE_KEYS[b]&&window.sessionStorage.setItem(r.ME_SESSION_STORAGE_KEYS[b],a[b]))})},redirectToCallbackUrl:function(a,b){var c=window.localStorage.getItem("callback-url");window.localStorage.removeItem("callback-url");window.location=b||c||a||window.location.protocol+"//"+window.location.hostname},saveConsentId:function(a){window.sessionStorage.setItem(c.CIAM_SESSION_STORAGE_KEYS.consent,a)}}}},TUtj:function(e,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.getWellKnownOnewebObject=
void 0;var h=d("Hz3w");b.getWellKnownOnewebObject=function(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=h.NN_ONEWEB_WELL_KNOWN_OBJECT_TEMPLATES[b],m={},n;for(n in e)e.hasOwnProperty(n)&&(m[n]=d[n]?d[n]:e[n]);return m}},d88af60633:function(e,b,d){e.exports=d("RPo5")}},["d88af60633"]);